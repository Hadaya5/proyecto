<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ text['feed'] }}</title>
    <script type="module" src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.esm.js"></script>
    <script nomodule src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.js"></script>
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@ionic/core/css/ionic.bundle.css" />
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='profile.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='feed.css') }}">
</head>
<body>
    {% import './macros/toolbar.html' as toolbar %}
    {{toolbar.toolbar(loged=True,text=text)}}
    {% import './macros/footer.html' as footer %}
    {{footer.footer(text)}}
    {% import './macros/publicacion.html' as publicacion %}
    {% import './macros/publicar.html' as publicar %}
    <ion-app>
        <ion-content padding="false">

            <ion-grid>

                <ion-row>
                    <ion-col size-xs="12" size-sm="4" offset-sm="4">
                        <ion-item color="tertiary" id="text-pensando" class="ion-text-center">
                            
                            <ion-avatar slot="start" >
                                <img alt="Silhouette of a person's head" src="{{'https://d34pkca7tf0sls.cloudfront.net/images/' + user['icon']}}" />
                            </ion-avatar>
                            <ion-item id="open-modal" button class="pub-text-item">
                                    {{text['thinking']}}
                            </ion-item>
                            <!-- <ion-input type="text" disabled=""></ion-input> -->
                        </ion-item>
                        <ion-modal trigger="open-modal">
                            {{publicar.publicar(text,'https://d34pkca7tf0sls.cloudfront.net/images/' + user['icon']) }}
                        </ion-modal>
                
                    </ion-col>
                </ion-row>
                {% for post in posts %}
                <ion-row>
                    <ion-col  size-xs="12" size-sm="4" offset-sm="4">
                        {{publicacion.publicacion('https://d34pkca7tf0sls.cloudfront.net/images/' + users[post['uid']]['icon'],users[post['uid']]['name'] + ' ' + users[post['uid']]['lastname'] ,post['content'],'https://d34pkca7tf0sls.cloudfront.net/images/' + post['media'],post['uid'].binary.hex().upper())}}
                    </ion-col>
                </ion-row>
                {% endfor %}
            </ion-grid>
        </ion-content>
    </ion-app>
<script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script> 
<script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <!-- Load our React component. -->
  <script src="{{ url_for('static', filename='scripts/feed.js') }}"></script>
</body>
</html>